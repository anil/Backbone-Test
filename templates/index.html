<html>
  <head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>
     <script>
       $(document).ready(function(){

          console.log("The page is ready");

          //THE BACKBONE MODEL FOR ANONYMOUS USERS
          window.Anon_User = Backbone.Model.extend({
             url: '/api/v1/anon_user/'
          });

          window.Item_View = Backbone.View.extend({
            el: $("#item"),
            events: {
              "click #increment": "increment",
              "click #check": "check"
            },
            increment: function() {
               cur_clicks = user.get("num_clicks") + 1;
               user.set({"num_clicks": cur_clicks});
               user.save();
            },
            check: function() {
             alert(user.id);
             alert(user.get("num_clicks"));
            }
          })

          //CREATE A NEW ITEM View
          var item = new Item_View

          //CREATE A NEW INSTANCE OF A ANONYMOUS USER
          var user = new Anon_User

          //GET THE ANONYMOUS USER FROM THE BACKEND
          user.fetch() 

        });
     </script>
 
  </head>
  <body>
     <div id="item">
       <input type="submit" value="check" id="check" />
       <input type="submit" value="increment" id="increment" />
     </div>
  </body>
</html>
